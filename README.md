# Lucee 7 Java Logging Demo

Demonstrates how to get Java classes to log through Lucee's logging system.

## The Problem

Lucee bundles `slf4j-nop` which silently discards all SLF4J log calls. So if your Java class uses SLF4J:

```java
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

private static final Logger logger = LoggerFactory.getLogger("payment");
logger.info("This goes nowhere!");
```

## The Solution

Pass Lucee's `Log` interface to your Java class instead:

```java
import lucee.commons.io.log.Log;

public class PaymentProcessor {
    private final Log logger;

    public PaymentProcessor( Log logger ) {
        this.logger = logger;
    }

    public void doStuff() {
        logger.info( "PaymentProcessor", "This works!" );
    }
}
```

In CFML:

```cfml
// Get the logger from Lucee config
paymentLog = getPageContext().getConfig().getLog( "payment" );

// Pass it to your Java class
jarPath = getDirectoryFromPath( getCurrentTemplatePath() ) & "lib/myclass.jar";
processor = createObject( "java", "com.mycompany.utils.PaymentProcessor", jarPath ).init( paymentLog );
processor.doStuff();
```

## Building the Java Class

```bash
cd java
mvn clean package
```

This compiles against the Lucee jar (provided scope) and outputs to `lib/`.

## Running the Demo

Using [script-runner](https://github.com/lucee/script-runner):

```bash
ant -buildfile /path/to/script-runner/build.xml \
    -DluceeVersion=7.0.1.100 \
    -Dwebroot=/path/to/lucee7-logging-demo \
    -Dexecute=index.cfm \
    -DluceeCFConfig=/path/to/lucee7-logging-demo/.CFConfig.json
```

## Expected Output

```text
"DEBUG","main","12/25/2025","12:57:56","...","PaymentProcessor","Starting payment processing for customer: Customer XYZ"
"INFO","main","12/25/2025","12:57:56","...","PaymentProcessor","Processing payment of $50.85 for customer Customer XYZ"
"INFO","main","12/25/2025","12:57:56","...","PaymentProcessor","Payment successful for customer Customer XYZ"
Logged using PaymentProcessor.class
"INFO","main","12/25/2025","12:57:56","...","...","Can you see this entry generated by index.cfm?"
Logged using cflog
"WARN","main","12/25/2025","12:57:56","...","PaymentProcessor","Large transaction detected: $15000.0 for customer Big Spender"
Logged large transaction
```

## Files

- `index.cfm` - Demo script that calls the Java class
- `java/PaymentProcessor.java` - Java class using Lucee's Log interface
- `java/pom.xml` - Maven build config
- `lib/` - Compiled jar output
- `.CFConfig.json` - Lucee config with "payment" logger
